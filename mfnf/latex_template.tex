\documentclass[xcolor=dvipsnames]{book}

\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[ngerman]{babel}
\usepackage{geometry}

% From https://tex.stackexchange.com/a/249474
\geometry{
  papersize={155mm,235mm},
  textwidth=117mm,
  textheight=191mm,
  heightrounded,
  hratio=1:1,
  vratio=1:1,
}

\usepackage{parskip}
\usepackage{graphicx}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{cancel}
\usepackage{booktabs}
\usepackage[space]{grffile}
\usepackage{verbatim}
\usepackage{changepage}
\usepackage{marvosym}
\usepackage[dvipsnames]{xcolor}
\usepackage[hidelinks,breaklinks]{hyperref}
\usepackage{subcaption}
\usepackage{float}
\usepackage[normalem]{ulem}
\usepackage{csquotes}
\usepackage{sectsty}
\usepackage[framemethod=default]{mdframed}

\usepackage{fontspec}
\setmainfont[Ligatures=TeX,
             Extension=.ttf,
             BoldFont=Karmilla-Bold-016,
             Path=../../karmilla/ttf/]{Karmilla-Regular-016}
% fallback font or unicode (like smileys)
\newfontfamily\DejaSans{DejaVu Sans}
\newlength{\lineheight}
\makeatletter\setlength{\lineheight}{\f@size pt}\makeatother

\allowdisplaybreaks[4]
\predisplaypenalty=0

\definecolor{sblau}{HTML}{007ec1}
\colorlet{shellblau}{sblau!30}
\definecolor{forestgreen}{rgb}{0.13, 0.55, 0.13}

\allsectionsfont{\color{sblau}}

\errorcontextlines 10000

\mdfdefinestyle{semanticbox}{innerleftmargin=5.5pt,
                             innerrightmargin=0pt,
                             innertopmargin=0pt,
                             innerbottommargin=0pt,
                             skipabove=\baselineskip,
                             linecolor=shellblau,
                             linewidth=5.5pt,
                             topline=false,
                             rightline=false,
                             bottomline=false,
                             theoremseparator=\\,
                             frametitlefont=\normalfont,
                             theoremtitlefont={\normalfont\bfseries\color{sblau}},
                             frametitleaboveskip=0pt,
                             frametitlebelowskip=\baselineskip}

\mdfdefinestyle{importantbox}{innerleftmargin=5.5pt,
                              innerrightmargin=0pt,
                              innertopmargin=0pt,
                              innerbottommargin=0pt,
                              skipabove=\baselineskip,
                              linecolor=shellblau,
                              linewidth=5.5pt,
                              topline=false,
                              rightline=false,
                              bottomline=false,
                              fontcolor=sblau}

\def\IconHeight{30px}

\newmdenv[style=importantbox]{importantparagraph*}
\newenvironment{indentblock}{\begin{adjustwidth}{.5cm}{}}{\end{adjustwidth}}

\newcommand{\BoxIcon}[1]{\rlap{\protect\makebox[-\IconHeight]{\raisebox{-30px}[0pt][0pt]{\includegraphics[height=\IconHeight]{../../icons/#1.png}}}}}

\mdtheorem[style=semanticbox,
           startcode=\BoxIcon{theorem}]{theorem}{Satz}[chapter]

\mdtheorem[style=semanticbox]{definition}{Definition}[chapter]
\mdtheorem[style=semanticbox]{exercise}{Übung}[chapter]
\mdtheorem[style=semanticbox]{solution}{Lösung}[chapter]
\mdtheorem[style=semanticbox]{alternativeproof}{Alternativer Beweis}[chapter]
\mdtheorem[style=semanticbox]{warning}{Warnung}[chapter]
\mdtheorem[style=semanticbox]{hint}{Hinweis}[chapter]
\mdtheorem[style=semanticbox]{explanation}{Erklärung}[chapter]
\mdtheorem[style=semanticbox]{proofsummary}{Beweiszusammenfassung}[chapter]
\mdtheorem[style=semanticbox]{solutionprocess}{Lösungsweg}[chapter]
\mdtheorem[style=semanticbox]{example}{Beispiel}[chapter]
\mdtheorem[style=semanticbox]{question}{Frage}[chapter]
\mdtheorem[style=semanticbox]{answer}{Antwort}[chapter]
\mdtheorem[style=semanticbox]{induction}{Induktionsbeweis}[chapter]

\makeatletter
\let\proof\@undefined
\let\endproof\@undefined
\makeatother
\mdtheorem[style=semanticbox]{proof}{Beweis}[chapter]

\newcommand{\proofstep}[1]{\textbf{\textcolor{sblau}{#1}}}
\newcommand{\proofcase}[2]{\textbf{\textcolor{sblau}{Fall #1:}} #2}
\newcommand{\inductionstep}[2]{\textbf{\textcolor{sblau}{#1.}} #2}
